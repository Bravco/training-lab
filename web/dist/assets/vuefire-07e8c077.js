import{g as l,o as f,a as m}from"./@firebase-de49c396.js";import"./firebase-ae1b2e72.js";import{k as g,g as p,j as h,r as d}from"./@vue-e8604340.js";const c=Symbol("firebaseApp");function M(t){return p()&&h(c,null)||m(t)}const u=new WeakMap;function v(t,e){if(!u.has(t)){const n=g(!0);u.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),u.delete(t)}}return u.get(t)}const y=new WeakMap,a=new WeakMap;function i(t){const e=M(t);if(!a.has(e)){let n;const o=[new Promise(s=>{n=s}),s=>{a.set(e,s),n(s.value)}];a.set(e,o)}return a.get(e)}function w(t){const e=i(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function A(t,e){const n=l(e);f(n,r=>{const o=i();t.value=r,Array.isArray(o)&&o[1](t)})}function F(t){return(e,n)=>{const r=v(e,n).run(()=>d(t));y.set(e,r),A(r,e)}}function P(t,{firebaseApp:e,modules:n=[]}){t.provide(c,e);for(const r of n)t.use(r.bind(null,e))}export{P as V,F as a,w as g};
